<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">

	<insert id="insertBoard">
		insert into
			board
		values (
				seq_board_no.nextval,
				#{category},
				#{title},
				#{userId},
				#{contents},
				default,
				default,
				default			
				)
			
	<!-- 방금 insert된 board객체의 no컬럼(pk)값을  board.no에 대입 -->	
	<selectKey resultType="int" keyProperty="no" order="AFTER">
		select
			seq_board_no.currval
		from
			dual
	</selectKey>
	
	</insert>
	
	<select id="selectBoardList" resultType="board">
		select
			no, category, title, user_id, view_count, write_date
		from
			board
		order by
			no desc
	</select>
	
	<resultMap type="board" id="boardMap">
		<id column="no" property="no"/>
		<result column="category" property="category"/>
		<result column="title" property="title"/>
		<result column="user_id" property="userId"/>
		<result column="contents" property="contents"/>
		<result column="write_date" property="writeDate"/>
		<result column="view_count" property="viewCount"/>
		<result column="like_count" property="likeCount"/>
	</resultMap>
		
</mapper>